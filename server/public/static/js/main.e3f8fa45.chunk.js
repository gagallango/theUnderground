(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,a){e.exports=a(85)},57:function(e,t,a){},58:function(e,t,a){},76:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),s=a.n(l),c=(a(57),a(7)),o=a(10),i=a(12),m=a(11),u=a(6),p=(a(58),a(29)),h=a.n(p),E=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){var a=e.username,n=e.email,r=e.password,l=e.favoriteGenre;return t.service.post("/user/signup",{username:a,email:n,password:r,favoriteGenre:l})},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/user/login",{username:a,password:n})},this.logout=function(){return t.service.post("/user/logout")},this.isLoggedIn=function(){return t.service.get("/user/loggedin")},this.userProfile=function(e){var a=e.id;return t.service.get("/user/".concat(a))},this.service=h.a.create({baseURL:"https://the-underground.herokuapp.com/api",withCredentials:!0})},d=a(9),g=(a(76),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"main-wrapper"},r.a.createElement("aside",null,r.a.createElement("h1",{className:"the"},"THE")),r.a.createElement("main",null,r.a.createElement("h1",{className:"underground"},"UNDERGROUND"),r.a.createElement("div",{className:"sign-log"},r.a.createElement(d.b,{to:"/signup"},"Join"),r.a.createElement(d.b,{to:"/login"},"Login")))),r.a.createElement("section",null,r.a.createElement("div",{className:"scroll text"},r.a.createElement("div",null,"a writting and content creator platform - a writting and content creator platform"))))}}]),a}(n.Component)),f=a(25),v=a(21),b=a(5),O=a(30),j=(a(82),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=Object(v.a)({},n.state.loginInfo),a=e.target,r=a.name,l=a.value;t=Object(v.a)(Object(v.a)({},t),{},Object(f.a)({},r,l)),console.log(t),n.setState({loginInfo:t})},n.handleSubmit=function(e){e.preventDefault(),n.authService.signup(n.state.loginInfo).then((function(e){n.props.setTheUser(e.data),n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.state={loginInfo:{username:"",email:"",password:"",favoriteGenre:""},errorMessage:""},n.authService=new E,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row top-xs"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("img",{className:"whitepen",src:"/namename.png"})),r.a.createElement("div",{className:"juju"},r.a.createElement("div",{class:"asidesign"},r.a.createElement("h1",null,"JOIN ",r.a.createElement("br",null)," THE HOOD"),r.a.createElement("p",null,r.a.createElement("small",null,"Already have an account? ",r.a.createElement(d.b,{className:"link-login",to:"/login"},"Login")))),r.a.createElement("div",{className:"row-sign"},r.a.createElement("div",{className:"form-total"},r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a.Group,{controlId:"name"},r.a.createElement(b.a.Label,{className:"inputname"},"Username"),r.a.createElement(b.a.Control,{className:"inputform",name:"username",type:"text",value:this.state.username,onChange:this.handleInputChange})),r.a.createElement(b.a.Group,{controlId:"email"},r.a.createElement(b.a.Label,{className:"inputname"},"Email"),r.a.createElement(b.a.Control,{className:"inputform",name:"email",type:"text",value:this.state.email,onChange:this.handleInputChange})),r.a.createElement(b.a.Group,{controlId:"pwd"},r.a.createElement(b.a.Label,{className:"inputname"},"Password"),r.a.createElement(b.a.Control,{className:"inputform",name:"password",type:"password",value:this.state.password,onChange:this.handleInputChange})),r.a.createElement(b.a.Group,{controlId:"favoriteGenre"},r.a.createElement(b.a.Label,{className:"inputname"},"Favorite genre"),r.a.createElement(b.a.Group,{className:"genres",name:" favoriteGenre",value:this.state.favoriteGenre,onChange:this.handleInputChange},r.a.createElement(b.a.Control,{as:"select",multiple:!0,name:"favoriteGenre"},r.a.createElement("option",null,"Narrative"),r.a.createElement("option",null,"NonFiction"),r.a.createElement("option",null,"Poetry")))),r.a.createElement("p",{className:"error-message",style:{display:this.state.errorMessage?"block":"none"}},this.state.errorMessage),r.a.createElement(O.a,{variant:"dark",type:"submit"},"Join"))))))))}}]),a}(n.Component)),y=a(13),N=(a(84),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=Object(v.a)({},n.state.loginInfo),a=e.target,r=a.name,l=a.value;t=Object(v.a)(Object(v.a)({},t),{},Object(f.a)({},r,l)),n.setState({loginInfo:t})},n.handleSubmit=function(e){e.preventDefault(),n.authService.login(n.state.loginInfo).then((function(e){n.props.setTheUser(e.data),n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.state={loginInfo:{username:"",password:""},errorMessage:""},n.authService=new E,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement("img",{className:"whitepen",src:"/namename.png"})),r.a.createElement("div",{className:"juju"},r.a.createElement(y.a,{md:{span:4,offset:4}},r.a.createElement("h3",null,"Login"),r.a.createElement(b.a,{onSubmit:this.handleSubmit},r.a.createElement(b.a.Group,{controlId:"name"},r.a.createElement(b.a.Label,{className:"inputname"},"Username"),r.a.createElement(b.a.Control,{className:"inputform",name:"username",type:"text",value:this.state.username,onChange:this.handleInputChange})),r.a.createElement(b.a.Group,{controlId:"pwd"},r.a.createElement(b.a.Label,{className:"inputname"},"Password"),r.a.createElement(b.a.Control,{className:"inputform",name:"password",type:"password",value:this.state.password,onChange:this.handleInputChange})),r.a.createElement("p",{className:"error-message",style:{display:this.state.errorMessage?"block":"none"}},this.state.errorMessage),r.a.createElement(O.a,{variant:"dark",type:"submit"},"Login")))))}}]),a}(n.Component)),I=a(24),w=function e(){var t=this;Object(c.a)(this,e),this.getPosts=function(){return t.service.get("/post/allPosts")},this.getUserPost=function(e){return t.service.get("/post/".concat(e))},this.service=h.a.create({baseURL:"https://the-underground.herokuapp.com/api"})},U=a(19),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).displayThePost=function(){var e=n.props.match.params.id;n.postService.getUserPost(e).then((function(e){return n.setState(e.data)})).catch((function(e){return console.log(e)}))},n.componentDidMount=function(){n.displayThePost()},n.state={},n.postService=new w,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement(U.a,null,r.a.createElement(y.a,{md:4},r.a.createElement("img",{className:"post-cover",src:this.state.cover,alt:""}),r.a.createElement("p",null,"Genre: ",this.state.genre),r.a.createElement("p",null,"Typology: ",this.state.typology)),r.a.createElement(y.a,{md:8},r.a.createElement("h1",null,this.state.title),r.a.createElement("p",null,this.state.content))))}}]),a}(n.Component),k=a(27),S=a(23),L=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).logout=function(){n.props.setTheUser(!1),n.authService.logout()},n.authService=new E,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{bg:"dark",variant:"dark",expand:"md"},r.a.createElement(k.a.Brand,{as:"div"},r.a.createElement(d.b,{to:"/"},"THE UNDER FUCKING GROUND")),r.a.createElement(k.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(k.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(S.a,null,r.a.createElement(S.a.Link,{as:"div"},r.a.createElement(d.b,{to:"/main"},"Home")),this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.Link,{as:"div"},r.a.createElement(d.b,{to:"/explore"},"Explore")),r.a.createElement(S.a.Link,{as:"div"},r.a.createElement(d.b,{to:"/profile"},"Profile")),r.a.createElement(S.a.Link,{as:"div",onClick:this.logout},r.a.createElement(d.b,{to:"/"},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.Link,{as:"div"},r.a.createElement(d.b,{to:"/login"},"Login")),r.a.createElement(S.a.Link,{as:"div"},r.a.createElement(d.b,{to:"/signup"},"Sign up")))),r.a.createElement(k.a.Text,{className:"ml-auto"}," Hi, ",this.props.loggedInUser?this.props.loggedInUser.username:"person")))}}]),a}(n.Component),T=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{md:{span:8,offset:1}},r.a.createElement("h6",{className:"user-info"},e.creator)),r.a.createElement(y.a,{md:{span:8,offset:1},className:"comment"},e.content),r.a.createElement(y.a,{md:{span:8,offset:1},className:"rating-info"},e.rating,r.a.createElement("img",{className:"img-rating",src:"./",alt:"Star icon"}),r.a.createElement("hr",null)))},G=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).displayPosts=function(){return n.state.user.userPosts.map((function(e,t){return r.a.createElement(d.b,{to:"/post/".concat(e._id),key:t},r.a.createElement("ul",null,r.a.createElement("li",null,e.title)))}))},n.displayReviews=function(){return n.state.user.myReviews.map((function(e){return r.a.createElement(T,Object.assign({key:e._id},e))}))},n.postService=new w,n.state={user:e.loggedInUser},n}return Object(o.a)(a,[{key:"render",value:function(){if(this.state.user){var e=this.state.user,t=e.username,a=e.favoriteGenre,n=e.profilePic;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{as:"section",className:"profile-section"},r.a.createElement(U.a,null,r.a.createElement(y.a,{md:2},r.a.createElement("div",null,r.a.createElement("h3",null,t),r.a.createElement("div",null,r.a.createElement("h3",null,"Contact info:"),r.a.createElement("img",{src:n,alt:""}),r.a.createElement("p",null,"Favorite genre: ",a)))),r.a.createElement(y.a,{md:6},r.a.createElement("div",{className:"wrote-by-user"},r.a.createElement("h3",null,"What I wrote:"),r.a.createElement("h2",null,this.displayPosts()))),r.a.createElement(y.a,{md:4},r.a.createElement("div",{className:"review-by-user"},r.a.createElement("h3",null,"Reviews I've done:"),this.displayReviews())))))}return r.a.createElement("p",null,"Cargando...")}}]),a}(n.Component),P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).displayAllPosts=function(){n.postService.getPosts().then((function(e){return n.setState({posts:e.data})})).catch((function(e){return console.log(e)}))},n.componentDidMount=function(){n.displayAllPosts()},n.state={posts:[]},n.postService=new w,n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement("h1",null,"All posts from users"),r.a.createElement(U.a,null,this.state.posts.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("img",{src:e.cover,alt:""}),r.a.createElement("h4",null,"Title: ",e.title),r.a.createElement("p",null,"Content: ",e.content),r.a.createElement("p",null,"Genre: ",e.genre),r.a.createElement("p",null,"Typology: ",e.typology),r.a.createElement("p",null,"Creator: ",e.creatorID),r.a.createElement("p",null,"Comment: ",e.comments))})))))}}]),a}(n.Component),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){null===e.state.loggedInUser&&e.authService.isLoggedIn().then((function(t){return e.setTheUser(t.data)})).catch((function(){return e.setTheUser(!1)}))},e.state={loggedInUser:null},e.authService=new E,e.fetchUser(),e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{loggedInUser:this.state.loggedInUser,setTheUser:this.setTheUser}),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(G,{loggedInUser:e.state.loggedInUser}):r.a.createElement(u.a,{to:"/"})}}),r.a.createElement(u.b,{path:"/post/:id",render:function(e){return r.a.createElement(C,e)}}),r.a.createElement(u.b,{path:"/explore",render:function(e){return r.a.createElement(P,e)}}))):r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(g,null)}}),r.a.createElement(u.b,{path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({},t,{setTheUser:e.setTheUser}))}}),r.a.createElement(u.b,{path:"/login",render:function(t){return r.a.createElement(N,Object.assign({},t,{setTheUser:e.setTheUser}))}}))}}]),a}(n.Component);s.a.render(r.a.createElement(d.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null))),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.e3f8fa45.chunk.js.map