{"ast":null,"code":"import _classCallCheck from\"/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Switch,Route,Redirect}from'react-router-dom';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import AuthService from'../service/auth.service';import Home from'./Home/Home';import SignUp from'./Signup/Signup';import Login from'./Login/Login';import Profile from'./Profile/Profile';import UserPost from'./Profile/UserPost/UserPost';import Navbar from'./ui/Navbar/Navbar';import AllUserPosts from'./Profile/AllUserPosts/AllUserPosts';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.setTheUser=function(userObj){return _this.setState({loggedInUser:userObj});};_this.fetchUser=function(){if(_this.state.loggedInUser===null){_this.authService.isLoggedIn().then(function(response){return _this.setTheUser(response.data);}).catch(function(){return _this.setTheUser(false);});}};_this.state={loggedInUser:null};_this.authService=new AuthService();_this.fetchUser();return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return!this.state.loggedInUser?/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(Home,null);}}),/*#__PURE__*/React.createElement(Route,{path:\"/signup\",render:function render(props){return/*#__PURE__*/React.createElement(SignUp,Object.assign({},props,{setTheUser:_this2.setTheUser}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",render:function render(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{setTheUser:_this2.setTheUser}));}})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{loggedInUser:this.state.loggedInUser,setTheUser:this.setTheUser}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/profile\",render:function render(){return _this2.state.loggedInUser?/*#__PURE__*/React.createElement(Profile,{loggedInUser:_this2.state.loggedInUser}):/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/post/:id\",render:function render(props){return/*#__PURE__*/React.createElement(UserPost,props);}}),/*#__PURE__*/React.createElement(Route,{path:\"/explore\",render:function render(props){return/*#__PURE__*/React.createElement(AllUserPosts,props);}})));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","AuthService","Home","SignUp","Login","Profile","UserPost","Navbar","AllUserPosts","App","setTheUser","userObj","setState","loggedInUser","fetchUser","state","authService","isLoggedIn","then","response","data","catch","props"],"mappings":"wrBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,QAAxB,KAAwC,kBAAxC,CACA,MAAO,sCAAP,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,qCAAzB,C,GAEMC,CAAAA,G,0FAEJ,cAAc,qCACZ,wBADY,MAOdC,UAPc,CAOD,SAAAC,OAAO,QAAI,OAAKC,QAAL,CAAc,CAAEC,YAAY,CAAEF,OAAhB,CAAd,CAAJ,EAPN,OASdG,SATc,CASF,UAAM,CAChB,GAAI,MAAKC,KAAL,CAAWF,YAAX,GAA4B,IAAhC,CAAsC,CACpC,MAAKG,WAAL,CAAiBC,UAAjB,GACGC,IADH,CACQ,SAAAC,QAAQ,QAAI,OAAKT,UAAL,CAAgBS,QAAQ,CAACC,IAAzB,CAAJ,EADhB,EAEGC,KAFH,CAES,iBAAM,OAAKX,UAAL,CAAgB,KAAhB,CAAN,EAFT,EAGD,CACF,CAfa,CAEZ,MAAKK,KAAL,CAAa,CAAEF,YAAY,CAAE,IAAhB,CAAb,CACA,MAAKG,WAAL,CAAmB,GAAIf,CAAAA,WAAJ,EAAnB,CACA,MAAKa,SAAL,GAJY,aAKb,C,uDAYQ,iBACP,MACE,CAAC,KAAKC,KAAL,CAAWF,YAAZ,cACE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,MAAM,CAAE,qCAAM,oBAAC,IAAD,MAAN,EAA9B,EADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,MAAM,CAAE,gBAAAS,KAAK,qBAAI,oBAAC,MAAD,kBAAYA,KAAZ,EAAmB,UAAU,CAAE,MAAI,CAACZ,UAApC,GAAJ,EAAnC,EAFF,cAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,MAAM,CAAE,gBAAAY,KAAK,qBAAI,oBAAC,KAAD,kBAAWA,KAAX,EAAkB,UAAU,CAAE,MAAI,CAACZ,UAAnC,GAAJ,EAAlC,EAHF,CADF,cAOE,qDACE,oBAAC,MAAD,EAAQ,YAAY,CAAE,KAAKK,KAAL,CAAWF,YAAjC,CAA+C,UAAU,CAAE,KAAKH,UAAhE,EADF,cAEE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,MAAM,CAAE,wBAAM,CAAA,MAAI,CAACK,KAAL,CAAWF,YAAX,cAA0B,oBAAC,OAAD,EAAS,YAAY,CAAE,MAAI,CAACE,KAAL,CAAWF,YAAlC,EAA1B,cAA+E,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAArF,EAA/B,EADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,MAAM,CAAE,gBAAAS,KAAK,qBAAI,oBAAC,QAAD,CAAcA,KAAd,CAAJ,EAArC,EAFF,cAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,MAAM,CAAE,gBAAAA,KAAK,qBAAI,oBAAC,YAAD,CAAkBA,KAAlB,CAAJ,EAApC,EAHF,CAFF,CARJ,CAkBD,C,iBAtCezB,S,EAyClB,cAAeY,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport AuthService from '../service/auth.service'\nimport Home from './Home/Home'\nimport SignUp from './Signup/Signup'\nimport Login from './Login/Login'\nimport Profile from './Profile/Profile'\nimport UserPost from './Profile/UserPost/UserPost'\nimport Navbar from './ui/Navbar/Navbar'\nimport AllUserPosts from './Profile/AllUserPosts/AllUserPosts';\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = { loggedInUser: null }\n    this.authService = new AuthService()\n    this.fetchUser()\n  }\n\n  setTheUser = userObj => this.setState({ loggedInUser: userObj })\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this.authService.isLoggedIn()\n        .then(response => this.setTheUser(response.data))\n        .catch(() => this.setTheUser(false))\n    }\n  }\n\n  render() {\n    return (\n      !this.state.loggedInUser ?\n        <Switch>\n          <Route exact path='/' render={() => <Home />} />\n          <Route path='/signup' render={props => <SignUp {...props} setTheUser={this.setTheUser} />} />\n          <Route path='/login' render={props => <Login {...props} setTheUser={this.setTheUser} />} />\n        </Switch>\n        :\n        <>\n          <Navbar loggedInUser={this.state.loggedInUser} setTheUser={this.setTheUser} />\n          <Switch>\n            <Route path='/profile' render={() => this.state.loggedInUser ? <Profile loggedInUser={this.state.loggedInUser} /> : <Redirect to=\"/\" />} />\n            <Route path='/post/:id' render={props => <UserPost {...props} />} />\n            <Route path='/explore' render={props => <AllUserPosts {...props} />} />\n\n          </Switch>\n        </>\n    )\n  }\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}