{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/src/components/App.js\";\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport AuthService from '../service/auth.service';\nimport Home from './Home/Home';\nimport SignUp from './Signup/Signup';\nimport Login from './Login/Login';\nimport Profile from './Profile/Profile';\nimport UserPost from './Profile/UserPost/UserPost';\nimport Navbar from './ui/Navbar/Navbar';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = userObj => this.setState({\n      loggedInUser: userObj\n    }, () => this.state);\n\n    this.fetchUser = () => {\n      if (this.state.loggedInUser === null) {\n        this.authService.isLoggedIn().then(response => this.setTheUser(response.data)).catch(() => this.setTheUser(false));\n      }\n    };\n\n    this.state = {\n      loggedInUser: null\n    };\n    this.authService = new AuthService();\n    this.fetchUser();\n  }\n\n  render() {\n    if (!this.state.loggedInUser) {\n      return /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/React.createElement(Home, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 47\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/signup\",\n        render: props => /*#__PURE__*/React.createElement(SignUp, Object.assign({}, props, {\n          setTheUser: this.setTheUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 50\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/login\",\n        render: props => /*#__PURE__*/React.createElement(Login, Object.assign({}, props, {\n          setTheUser: this.setTheUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 49\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n        loggedInUser: this.state.loggedInUser,\n        setTheUser: this.setTheUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        path: \"/profile\",\n        render: () => this.state.loggedInUser ? /*#__PURE__*/React.createElement(Profile, {\n          loggedInUser: this.state.loggedInUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 76\n          }\n        }) : /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 129\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/post/:id\",\n        render: props => /*#__PURE__*/React.createElement(UserPost, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 54\n          }\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      })));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/gabrielagallango/Desktop/UNDER/theUnderground/client/src/components/App.js"],"names":["React","Component","Switch","Route","Redirect","AuthService","Home","SignUp","Login","Profile","UserPost","Navbar","App","constructor","setTheUser","userObj","setState","loggedInUser","state","fetchUser","authService","isLoggedIn","then","response","data","catch","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport AuthService from '../service/auth.service'\nimport Home from './Home/Home'\nimport SignUp from './Signup/Signup'\nimport Login from './Login/Login'\nimport Profile from './Profile/Profile'\nimport UserPost from './Profile/UserPost/UserPost'\nimport Navbar from './ui/Navbar/Navbar'\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = { loggedInUser: null }\n    this.authService = new AuthService()\n    this.fetchUser()\n  }\n\n\n  setTheUser = userObj => this.setState({ loggedInUser: userObj }, () => this.state)\n\n  fetchUser = () => {\n    if (this.state.loggedInUser === null) {\n      this.authService.isLoggedIn()\n        .then(response => this.setTheUser(response.data))\n        .catch(() => this.setTheUser(false))\n    }\n  }\n\n  render() {\n    if (!this.state.loggedInUser) {\n      return (\n        <Switch>\n          <Route exact path='/' render={() => <Home />} />\n          <Route path='/signup' render={props => <SignUp {...props} setTheUser={this.setTheUser} />} />\n          <Route path='/login' render={props => <Login {...props} setTheUser={this.setTheUser} />} />\n        </Switch>\n      )\n    } else {\n      return (\n        <>\n          <Navbar loggedInUser={this.state.loggedInUser} setTheUser={this.setTheUser} />\n          <Switch>\n            <Route path='/profile' render={() => this.state.loggedInUser ? <Profile loggedInUser={this.state.loggedInUser} /> : <Redirect to=\"/\" />} />\n            <Route path='/post/:id' render={props => <UserPost {...props} />} />\n          </Switch>\n        </>\n      )\n    }\n  }\n}\n\n\nexport default App"]},"metadata":{},"sourceType":"module"}